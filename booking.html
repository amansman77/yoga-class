<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ì˜ˆì•½í•˜ê¸° â€¢ Mindful Motion</title>
  <link rel="icon" type="image/svg+xml" href="favicon.svg">
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'warm-brown': {
              50: '#fdf8f6',
              100: '#f2e8e5',
              200: '#eaddd7',
              300: '#e0cdc2',
              400: '#d2bab0',
              500: '#bfa094',
              600: '#a18072',
              700: '#977669',
              800: '#846358',
              900: '#43302b',
            }
          }
        }
      }
    }
  </script>
</head>
<body class="bg-gray-50">
  
  <!-- Header -->
  <header class="bg-white shadow-sm border-b border-warm-brown-100">
    <div class="max-w-7xl mx-auto px-8 py-6">
      <div class="flex items-center justify-between">
        <div class="flex items-center">
          <a href="index.html" class="text-2xl font-serif font-bold text-warm-brown-800">
            Mindful Motion
          </a>
        </div>
        <div class="flex items-center space-x-6">
          <a href="index.html" class="text-gray-600 hover:text-warm-brown-600 transition-colors">
            í™ˆìœ¼ë¡œ
          </a>
          <a href="index.html#classes" class="text-gray-600 hover:text-warm-brown-600 transition-colors">
            í´ë˜ìŠ¤
          </a>
          <a href="location.html" class="text-gray-600 hover:text-warm-brown-600 transition-colors">
            ì°¾ì•„ì˜¤ê¸°
          </a>
        </div>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="max-w-4xl mx-auto px-8 py-16">
    <div class="bg-gradient-to-br from-warm-brown-600 to-warm-brown-700 rounded-3xl p-12 text-white">
      <div class="inline-flex items-center px-3 py-1 rounded-full bg-warm-brown-100/20 text-warm-brown-100 text-sm font-medium mb-6 border border-warm-brown-200/30">
        <span class="w-2 h-2 bg-warm-brown-300 rounded-full mr-2"></span>
        Easy Booking
      </div>
      <h1 class="text-4xl font-serif font-bold mb-6">
        ì§€ê¸ˆ ë°”ë¡œ<br>
        <span class="text-warm-brown-200">ì‹œì‘í•˜ì„¸ìš”</span>
      </h1>
      <p class="text-lg text-warm-brown-100 mb-8 leading-relaxed">
        ê°„í¸í•œ ì˜¨ë¼ì¸ ì˜ˆì•½ ì‹œìŠ¤í…œìœ¼ë¡œ ì›í•˜ëŠ” í´ë˜ìŠ¤ë¥¼ 
        ì–¸ì œë“ ì§€ ì˜ˆì•½í•˜ê³  ê´€ë¦¬í•˜ì„¸ìš”.
      </p>
      
      <!-- Booking Form -->
      <form id="bookingForm" class="space-y-6 mb-8">
        <div class="grid md:grid-cols-2 gap-4">
          <div>
            <label for="name" class="block text-warm-brown-100 text-sm font-medium mb-2">ì´ë¦„</label>
            <input type="text" id="name" name="name" required 
                   class="w-full px-4 py-3 rounded-lg bg-white/10 border border-warm-brown-200/30 text-white placeholder-warm-brown-200 focus:outline-none focus:ring-2 focus:ring-warm-brown-300 focus:border-transparent"
                   placeholder="í™ê¸¸ë™">
          </div>
          <div>
            <label for="phone" class="block text-warm-brown-100 text-sm font-medium mb-2">ì—°ë½ì²˜</label>
            <input type="tel" id="phone" name="phone" required 
                   class="w-full px-4 py-3 rounded-lg bg-white/10 border border-warm-brown-200/30 text-white placeholder-warm-brown-200 focus:outline-none focus:ring-2 focus:ring-warm-brown-300 focus:border-transparent"
                   placeholder="010-1234-5678">
          </div>
        </div>
        
        <div>
          <label for="email" class="block text-warm-brown-100 text-sm font-medium mb-2">ì´ë©”ì¼</label>
          <input type="email" id="email" name="email" required 
                 class="w-full px-4 py-3 rounded-lg bg-white/10 border border-warm-brown-200/30 text-white placeholder-warm-brown-200 focus:outline-none focus:ring-2 focus:ring-warm-brown-300 focus:border-transparent"
                 placeholder="example@email.com">
        </div>
        
        <div class="grid md:grid-cols-2 gap-4">
          <div>
            <label for="classType" class="block text-warm-brown-100 text-sm font-medium mb-2">í´ë˜ìŠ¤ ì„ íƒ</label>
            <select id="classType" name="classType" required 
                    class="w-full px-4 py-3 rounded-lg bg-white/10 border border-warm-brown-200/30 text-white focus:outline-none focus:ring-2 focus:ring-warm-brown-300 focus:border-transparent">
              <option value="" class="text-gray-800">í´ë˜ìŠ¤ë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
              <option value="hatha" class="text-gray-800">Hatha Yoga (ì´ˆê¸‰ì)</option>
              <option value="vinyasa" class="text-gray-800">Vinyasa Flow (ì¤‘ê¸‰ì)</option>
              <option value="restorative" class="text-gray-800">Restorative (ëª¨ë“  ë ˆë²¨)</option>
              <option value="power" class="text-gray-800">Power Yoga (ê³ ê¸‰ì)</option>
              <option value="yin" class="text-gray-800">Yin Yoga (ëª…ìƒ ì¤‘ì‹¬)</option>
              <option value="hot" class="text-gray-800">Hot Yoga (íŠ¹ë³„ í´ë˜ìŠ¤)</option>
            </select>
          </div>
          <div>
            <label for="date" class="block text-warm-brown-100 text-sm font-medium mb-2">í¬ë§ ë‚ ì§œ</label>
            <input type="date" id="date" name="date" required 
                   class="w-full px-4 py-3 rounded-lg bg-white/10 border border-warm-brown-200/30 text-white focus:outline-none focus:ring-2 focus:ring-warm-brown-300 focus:border-transparent">
          </div>
        </div>
        
        <div class="grid md:grid-cols-2 gap-4">
          <div>
            <label for="time" class="block text-warm-brown-100 text-sm font-medium mb-2">í¬ë§ ì‹œê°„</label>
            <select id="time" name="time" required 
                    class="w-full px-4 py-3 rounded-lg bg-white/10 border border-warm-brown-200/30 text-white focus:outline-none focus:ring-2 focus:ring-warm-brown-300 focus:border-transparent">
              <option value="" class="text-gray-800">ì‹œê°„ì„ ì„ íƒí•˜ì„¸ìš”</option>
              <option value="06:00" class="text-gray-800">06:00 - 07:00</option>
              <option value="07:00" class="text-gray-800">07:00 - 08:00</option>
              <option value="09:00" class="text-gray-800">09:00 - 10:00</option>
              <option value="10:00" class="text-gray-800">10:00 - 11:00</option>
              <option value="18:00" class="text-gray-800">18:00 - 19:00</option>
              <option value="19:00" class="text-gray-800">19:00 - 20:00</option>
              <option value="20:00" class="text-gray-800">20:00 - 21:00</option>
            </select>
          </div>
          <div>
            <label for="experience" class="block text-warm-brown-100 text-sm font-medium mb-2">ìš”ê°€ ê²½í—˜</label>
            <select id="experience" name="experience" required 
                    class="w-full px-4 py-3 rounded-lg bg-white/10 border border-warm-brown-200/30 text-white focus:outline-none focus:ring-2 focus:ring-warm-brown-300 focus:border-transparent">
              <option value="" class="text-gray-800">ê²½í—˜ì„ ì„ íƒí•˜ì„¸ìš”</option>
              <option value="beginner" class="text-gray-800">ì´ˆë³´ì (6ê°œì›” ë¯¸ë§Œ)</option>
              <option value="intermediate" class="text-gray-800">ì¤‘ê¸‰ì (6ê°œì›”-2ë…„)</option>
              <option value="advanced" class="text-gray-800">ê³ ê¸‰ì (2ë…„ ì´ìƒ)</option>
            </select>
          </div>
        </div>
        
        <div>
          <label for="message" class="block text-warm-brown-100 text-sm font-medium mb-2">íŠ¹ë³„ ìš”ì²­ì‚¬í•­ (ì„ íƒ)</label>
          <textarea id="message" name="message" rows="3" 
                    class="w-full px-4 py-3 rounded-lg bg-white/10 border border-warm-brown-200/30 text-white placeholder-warm-brown-200 focus:outline-none focus:ring-2 focus:ring-warm-brown-300 focus:border-transparent resize-none"
                    placeholder="ë¶€ìƒ ì´ë ¥, íŠ¹ë³„í•œ ìš”ì²­ì‚¬í•­ ë“±ì„ ì ì–´ì£¼ì„¸ìš”"></textarea>
        </div>
        
        <div class="flex items-center">
          <input type="checkbox" id="agree" name="agree" required 
                 class="w-4 h-4 text-warm-brown-600 bg-white/10 border-warm-brown-200 rounded focus:ring-warm-brown-300 focus:ring-2">
          <label for="agree" class="ml-2 text-sm text-warm-brown-100">
            ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš©ì— ë™ì˜í•©ë‹ˆë‹¤. 
            <a href="privacy.html" target="_blank" class="text-warm-brown-200 underline hover:text-white">ìì„¸íˆ ë³´ê¸°</a>
          </label>
        </div>
        
        <button type="submit" 
                class="w-full bg-white text-warm-brown-800 hover:bg-warm-brown-50 px-8 py-4 rounded-full font-semibold text-lg transition-colors duration-200 shadow-lg">
          ì˜ˆì•½ ì‹ ì²­í•˜ê¸°
        </button>
      </form>
      
      <!-- Success Message (Hidden by default) -->
      <div id="successMessage" class="hidden bg-green-500/20 border border-green-400/30 rounded-lg p-4 mb-6">
        <div class="flex items-center">
          <div class="w-6 h-6 bg-green-400 rounded-full flex items-center justify-center mr-3">
            <span class="text-white text-sm">âœ“</span>
          </div>
          <div>
            <div class="font-semibold text-green-100">ì˜ˆì•½ ì‹ ì²­ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!</div>
            <div class="text-sm text-green-200">ê³§ ì—°ë½ë“œë¦¬ê² ìŠµë‹ˆë‹¤.</div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="bg-warm-brown-900 text-white py-12 mt-16">
    <div class="max-w-7xl mx-auto px-8 text-center">
      <h3 class="text-2xl font-serif font-bold mb-4">Mindful Motion</h3>
      <p class="text-warm-brown-200 mb-6">
        ëª¸ê³¼ ë§ˆìŒì˜ ê· í˜•ì„ ì°¾ì•„ê°€ëŠ” í”„ë¦¬ë¯¸ì—„ ìš”ê°€ ìŠ¤íŠœë””ì˜¤
      </p>
      <div class="text-warm-brown-300 text-sm">
        Â© 2024 Mindful Motion. All rights reserved.
      </div>
    </div>
  </footer>

  <script>
    // Booking Form Handler
    document.getElementById('bookingForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      // Get form data
      const formData = new FormData(this);
      const bookingData = {
        name: formData.get('name'),
        phone: formData.get('phone'),
        email: formData.get('email'),
        classType: formData.get('classType'),
        date: formData.get('date'),
        time: formData.get('time'),
        experience: formData.get('experience'),
        message: formData.get('message'),
        agree: formData.get('agree')
      };
      
      // Validate required fields
      if (!bookingData.name || !bookingData.phone || !bookingData.email || 
          !bookingData.classType || !bookingData.date || !bookingData.time || 
          !bookingData.experience || !bookingData.agree) {
        alert('ëª¨ë“  í•„ìˆ˜ í•­ëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
        return;
      }
      
      // Validate email format
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!emailRegex.test(bookingData.email)) {
        alert('ì˜¬ë°”ë¥¸ ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
        return;
      }
      
      // Validate phone format
      const phoneRegex = /^010-\d{4}-\d{4}$/;
      if (!phoneRegex.test(bookingData.phone)) {
        alert('ì˜¬ë°”ë¥¸ ì—°ë½ì²˜ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”. (ì˜ˆ: 010-1234-5678)');
        return;
      }
      
      // Validate date (must be future date)
      const selectedDate = new Date(bookingData.date);
      const today = new Date();
      today.setHours(0, 0, 0, 0);
      
      if (selectedDate < today) {
        alert('ë¯¸ë˜ ë‚ ì§œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.');
        return;
      }
      
      // Simulate form submission
      console.log('ì˜ˆì•½ ì‹ ì²­ ë°ì´í„°:', bookingData);
      
      // Send Discord notification
      sendDiscordNotification(bookingData);
      
      // Show success message
      document.getElementById('successMessage').classList.remove('hidden');
      document.getElementById('bookingForm').style.display = 'none';
      
      // Scroll to success message
      document.getElementById('successMessage').scrollIntoView({ 
        behavior: 'smooth', 
        block: 'center' 
      });
    });
    
    // Set minimum date to today
    document.getElementById('date').min = new Date().toISOString().split('T')[0];
    
    // Send Discord notification
    function sendDiscordNotification(bookingData) {
      const classNames = {
        'hatha': 'Hatha Yoga (ì´ˆê¸‰ì)',
        'vinyasa': 'Vinyasa Flow (ì¤‘ê¸‰ì)',
        'restorative': 'Restorative (ëª¨ë“  ë ˆë²¨)',
        'power': 'Power Yoga (ê³ ê¸‰ì)',
        'yin': 'Yin Yoga (ëª…ìƒ ì¤‘ì‹¬)',
        'hot': 'Hot Yoga (íŠ¹ë³„ í´ë˜ìŠ¤)'
      };
      
      const experienceNames = {
        'beginner': 'ì´ˆë³´ì (6ê°œì›” ë¯¸ë§Œ)',
        'intermediate': 'ì¤‘ê¸‰ì (6ê°œì›”-2ë…„)',
        'advanced': 'ê³ ê¸‰ì (2ë…„ ì´ìƒ)'
      };
      
      // Discord webhook URL from environment variable
      const webhookUrl = process.env.DISCORD_WEBHOOK_URL || 'https://discord.com/api/webhooks/1420655931943026799/bffuAoyGkT6HFJ7bmw8Zrw43bToh-X0WW6Nc8kfI-4XrFrqHdkDf4vgs6OK7AyJV_5Of';
      
      const embed = {
        title: "ğŸ§˜â€â™€ï¸ ìƒˆë¡œìš´ ìš”ê°€ í´ë˜ìŠ¤ ì˜ˆì•½ ì‹ ì²­",
        color: 0x8B4513, // ì›œ ë¸Œë¼ìš´ ìƒ‰ìƒ
        fields: [
          {
            name: "ğŸ‘¤ ì˜ˆì•½ì ì •ë³´",
            value: `**ì´ë¦„:** ${bookingData.name}\n**ì—°ë½ì²˜:** ${bookingData.phone}\n**ì´ë©”ì¼:** ${bookingData.email}`,
            inline: false
          },
          {
            name: "ğŸ“… í´ë˜ìŠ¤ ì •ë³´",
            value: `**í´ë˜ìŠ¤:** ${classNames[bookingData.classType] || bookingData.classType}\n**ë‚ ì§œ:** ${bookingData.date}\n**ì‹œê°„:** ${bookingData.time}\n**ê²½í—˜:** ${experienceNames[bookingData.experience] || bookingData.experience}`,
            inline: false
          },
          {
            name: "ğŸ“ íŠ¹ë³„ ìš”ì²­ì‚¬í•­",
            value: bookingData.message || "ì—†ìŒ",
            inline: false
          },
          {
            name: "âœ… ë™ì˜ ì—¬ë¶€",
            value: `ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš© ë™ì˜: ${bookingData.agree ? 'âœ… ë™ì˜' : 'âŒ ë¯¸ë™ì˜'}`,
            inline: false
          }
        ],
        footer: {
          text: "Mindful Motion â€¢ ì˜ˆì•½ ì‹œìŠ¤í…œ",
          icon_url: "https://cdn.discordapp.com/embed/avatars/0.png"
        },
        timestamp: new Date().toISOString()
      };
      
      const payload = {
        content: `@here ìƒˆë¡œìš´ ì˜ˆì•½ ì‹ ì²­ì´ ë„ì°©í–ˆìŠµë‹ˆë‹¤!`,
        embeds: [embed]
      };
      
      // Discord ì›¹í›…ìœ¼ë¡œ ì „ì†¡ (ì‹¤ì œ êµ¬í˜„ì—ì„œëŠ” ì„œë²„ ì‚¬ì´ë“œì—ì„œ ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ ì•ˆì „)
      fetch(webhookUrl, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(payload)
      }).then(response => {
        if (response.ok) {
          console.log('Discord ì•Œë¦¼ ì „ì†¡ ì„±ê³µ');
        } else {
          console.error('Discord ì•Œë¦¼ ì „ì†¡ ì‹¤íŒ¨:', response.status);
        }
      }).catch(error => {
        console.error('Discord ì•Œë¦¼ ì „ì†¡ ì˜¤ë¥˜:', error);
        // ì›¹í›…ì´ ì„¤ì •ë˜ì§€ ì•Šì€ ê²½ìš° ì½˜ì†”ì— ë¡œê·¸ë§Œ ì¶œë ¥
        console.log('ì˜ˆì•½ ì‹ ì²­ ë°ì´í„°:', bookingData);
      });
    }
  </script>

</body>
</html>
